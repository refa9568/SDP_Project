<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dashboard – Radio Coy Comd</title>

<style>
:root{
  --dark:#2E3D32; /* specified dark green */
  --olive:#556B2F; /* olive */
  --sand:#C2B280; /* sand/khaki */
  --green:#2ecc71; /* status green */
  --amber:#f39c12; /* status amber */
  --red:#e74c3c; /* status red */
  --text:#ffffff;
}

*{
  box-sizing:border-box;
  font-family: "Segoe UI", Arial, sans-serif;
}

body{
  margin:0;
  background:var(--dark);
  color:var(--text);
}

/* ---------- HEADINGS ---------- */
h2,h3{
  font-weight:800;
  color:#ffffff;
  letter-spacing:0.5px;
}

/* ---------- HEADER ---------- */
.header{
  background:var(--olive);
  border:3px solid var(--sand);
  padding:18px;
  margin:20px;
  border-radius:12px; /* 12px rounded corners as requested */
  position:relative; /* allow positioning logout box */
}

/* logout button in header */
.logout{
  position:absolute;
  top:12px;
  right:16px;
  background:var(--sand);
  color:var(--dark);
  padding:8px 10px;
  border-radius:12px;
  font-weight:800;
  cursor:pointer;
  border:2px solid rgba(0,0,0,0.08);
}

/* personal roster should be olive */
.olive-panel{
  background:var(--olive);
  border:3px solid var(--sand);
  border-radius:12px;
  padding:14px;
}

/* ---------- STATS ---------- */
.stats{
  display:grid;
  grid-template-columns:repeat(6,1fr);
  gap:12px;
  margin:20px;
}

.box{
  background:var(--olive);
  border:3px solid var(--sand);
  padding:16px;
  text-align:center;
  border-radius:12px;
  font-weight:800;
  cursor:pointer;
  text-transform:uppercase;
  transition: transform .18s ease, box-shadow .18s ease, background .18s ease, border-color .18s ease;
  will-change: transform, box-shadow;
}

.box:hover{
  background:#4a5f2a;
  transform: translateY(-4px) scale(1.02);
  box-shadow: 0 8px 22px rgba(0,0,0,0.35);
  border-color: rgba(255,255,255,0.06);
}

/* Touch support: make boxes respond on touch/active states */
.box:active{
  transform: translateY(-2px) scale(1.01);
  box-shadow: 0 6px 16px rgba(0,0,0,0.35);
}

@media (hover: none) {
  /* on touch devices, apply active-like feedback when tapped */
  .box:active{
    transform: translateY(-2px) scale(1.01);
    box-shadow: 0 6px 16px rgba(0,0,0,0.35);
  }
}

/* ---------- MAIN SECTION ---------- */
.main{
  display:grid;
  grid-template-columns:2.5fr 1fr;
  gap:20px;
  margin:20px;
}

.panel{
  background:#17221b; /* dark panel that fits the palette */
  border:3px solid var(--sand);
  padding:15px;
  border-radius:12px;
}

/* ---------- TABLE ---------- */
table{
  width:100%;
  border-collapse:collapse;
  margin-top:10px;
}

th,td{
  border:1px solid var(--sand);
  padding:10px;
  text-align:center;
  font-size:14px;
}

th{
  background:#3b4f40;
  font-weight:800;
  color:#ffffff;
}

/* ---------- STATUS INDICATORS ---------- */
.status-green{background:var(--green); color:#fff; padding:6px 10px; border-radius:12px; font-weight:800}
.status-amber{background:var(--amber); color:#000; padding:6px 10px; border-radius:12px; font-weight:800}
.status-red{background:var(--red); color:#fff; padding:6px 10px; border-radius:12px; font-weight:800}

/* ---------- BUTTONS ---------- */
.btn{
  padding:8px 14px;
  border:none;
  border-radius:12px;
  font-weight:800;
  cursor:pointer;
  margin-top:6px;
  transition: transform .18s ease, box-shadow .18s ease, opacity .12s ease;
  will-change: transform, box-shadow;
}

.green{background:var(--green);color:#fff}
.red{background:var(--red);color:#fff}

.btn:hover{
  opacity:0.9;
  transform: translateY(-2px) scale(1.05);
  box-shadow: 0 6px 18px rgba(0,0,0,0.3);
}

.btn:active{
  transform: translateY(-1px) scale(1.02);
  box-shadow: 0 4px 12px rgba(0,0,0,0.25);
}

/* ---------- LINK ---------- */
a{
  text-decoration:none;
  color:inherit;
}
</style>
</head>

<body>

<!-- ===== HEADER ===== -->
<div class="header">
  <h2>Dashboard – Radio Coy Comd (Comd's Voice)</h2>
  <a href="logout.html" class="logout">Logout</a>
</div> 

<!-- ===== STATS ===== -->
<div class="stats">
  <div class="box">Total Strength<br><b id="totalStrength">95</b></div>
  <div class="box">On Parade<br><b id="onParade">85</b></div>
  <div class="box">Off Parade<br><b id="offParade">10</b></div>
  <div class="box">On Duty<br><b>77</b></div>
  <div class="box">Off Duty<br><b>08</b></div>

  <!-- CLICKABLE COY EMPLOYMENT -->
  <div class="box" onclick="window.location.href='daily_employment.html'">Coy Employment ➜</div>
</div>

<!-- ===== MAIN ===== -->
<div class="main">

  <!-- PERSONAL ROSTER -->
  <div class="panel olive-panel">
    <h3>Personal Roster</h3>

    <table>
      <tr>
        <th>Sena No</th>
        <th>Name</th>
        <th>Rk</th>
        <th>Present State</th>
        <th>Cycle Activities of Trg Year</th>
      </tr>

      <tr>
        <td>Army No-1234</td>
        <td>Hasnat Abdullah</td>
        <td>Sgt</td>
        <td>On Leave</td>
        <td>
          1st Cycle – Unit Duty<br>
          2nd Cycle – P/Lve<br>
          3rd Cycle – Army lvl Course<br>
          4th Cycle – Winter Trg
        </td>
      </tr>
      <tr>
        <td>Army No-1235</td>
        <td>Rakib Hossain</td>
        <td>Cpl</td>
        <td>On Duty</td>
        <td>
          1st Cycle – Unit Duty<br>
          2nd Cycle – Field Exercise<br>
          3rd Cycle – Signal Course<br>
          4th Cycle – Winter Trg
        </td>
      </tr>
      <tr>
        <td>Army No-1236</td>
        <td>Shahriar Rahman</td>
        <td>Sgt</td>
        <td>On Parade</td>
        <td>
          1st Cycle – Parade Rehearsal<br>
          2nd Cycle – Admin Duty<br>
          3rd Cycle – Army lvl Course<br>
          4th Cycle – Winter Trg
        </td>
      </tr>
      <tr>
        <td>Army No-1237</td>
        <td>Imran Kabir</td>
        <td>L/Cpl</td>
        <td>On Course</td>
        <td>
          1st Cycle – Unit Duty<br>
          2nd Cycle – Promotion Course<br>
          3rd Cycle – Trade Training<br>
          4th Cycle – Winter Trg
        </td>
      </tr>
      <tr>
        <td>Army No-1238</td>
        <td>Mahmudul Hasan</td>
        <td>Snk</td>
        <td>On Duty</td>
        <td>
          1st Cycle – Guard Duty<br>
          2nd Cycle – Unit Duty<br>
          3rd Cycle – Physical Trg<br>
          4th Cycle – Winter Trg
        </td>
      </tr>
      <tr>
        <td>Army No-1239</td>
        <td>Arif Uddin</td>
        <td>Cpl</td>
        <td>On Leave</td>
        <td>
          1st Cycle – Unit Duty<br>
          2nd Cycle – P/Lve<br>
          3rd Cycle – Communication Course<br>
          4th Cycle – Winter Trg
        </td>
      </tr>
      <tr>
        <td>Army No-1240</td>
        <td>Tanvir Ahmed</td>
        <td>Sgt</td>
        <td>On Duty</td>
        <td>
          1st Cycle – Unit Duty<br>
          2nd Cycle – Field Trg<br>
          3rd Cycle – Army lvl Course<br>
          4th Cycle – Winter Trg
        </td>
      </tr>
      <tr>
        <td>Army No-1241</td>
        <td>Nazmul Islam</td>
        <td>Snk</td>
        <td>On Parade</td>
        <td>
          1st Cycle – Parade Duty<br>
          2nd Cycle – Unit Duty<br>
          3rd Cycle – Weapon Trg<br>
          4th Cycle – Winter Trg
        </td>
      </tr>
      <tr>
        <td>Army No-1242</td>
        <td>Saifullah Khan</td>
        <td>Cpl</td>
        <td>On Course</td>
        <td>
          1st Cycle – Unit Duty<br>
          2nd Cycle – Leadership Course<br>
          3rd Cycle – Signal Course<br>
          4th Cycle – Winter Trg
        </td>
      </tr>
      <tr>
        <td>Army No-1243</td>
        <td>Mehedi Hasan</td>
        <td>L/Cpl</td>
        <td>On Duty</td>
        <td>
          1st Cycle – Unit Duty<br>
          2nd Cycle – Admin Task<br>
          3rd Cycle – Physical Trg<br>
          4th Cycle – Winter Trg
        </td>
      </tr>
    </table>
  </div>

  <!-- PENDING LEAVE -->
  <div class="panel">
    <h3>Pending Leave</h3>
    <p id="leaveDetails">
      <b>CPL Sazidul Islam</b><br>
      Annual Leave<br>
      2025-12-15 → 2025-12-20
    </p>
    <div id="leaveActions">
      <button class="btn green" onclick="approveLeave()">Approve</button>
      <button class="btn red" onclick="rejectLeave()">Reject</button>
    </div>
    <p id="leaveMessage" style="display:none; color:var(--sand); font-weight:800; margin-top:12px;"></p>
  </div>

</div>

<script>
function approveLeave() {
  const message = document.getElementById('leaveMessage');
  const actions = document.getElementById('leaveActions');
  const details = document.getElementById('leaveDetails');
  
  // Update dashboard stats
  updateDashboardStats('approve');
  
  // Hide buttons
  actions.style.display = 'none';
  
  // Show approval message
  message.textContent = '✓ Leave Approved Successfully';
  message.style.color = 'var(--green)';
  message.style.display = 'block';
  
  // Add strikethrough to leave details
  details.style.textDecoration = 'line-through';
  details.style.opacity = '0.6';
  
  // Reload stats display
  loadDashboardStats();
  
  // Optional: Clear after 3 seconds
  setTimeout(() => {
    details.style.display = 'none';
    message.textContent = 'No pending leave requests';
    message.style.color = 'var(--sand)';
  }, 3000);
}

function rejectLeave() {
  const message = document.getElementById('leaveMessage');
  const actions = document.getElementById('leaveActions');
  const details = document.getElementById('leaveDetails');
  
  // Hide buttons
  actions.style.display = 'none';
  
  // Show rejection message
  message.textContent = '✗ Leave Rejected';
  message.style.color = 'var(--red)';
  message.style.display = 'block';
  
  // Add strikethrough to leave details
  details.style.textDecoration = 'line-through';
  details.style.opacity = '0.6';
  
  // Optional: Clear after 3 seconds
  setTimeout(() => {
    details.style.display = 'none';
    message.textContent = 'No pending leave requests';
    message.style.color = 'var(--sand)';
  }, 3000);
}

function updateDashboardStats(action) {
  // Get current stats from localStorage or use defaults
  let stats = JSON.parse(localStorage.getItem('dashboardStats') || '{"onParade":85,"offParade":10,"onLeave":0}');
  
  if (action === 'approve') {
    // Reduce on parade by 1, increase off parade leave count
    stats.onParade = Math.max(0, stats.onParade - 1);
    stats.offParade = stats.offParade + 1;
    stats.onLeave = (stats.onLeave || 0) + 1;
  }
  
  // Save updated stats
  localStorage.setItem('dashboardStats', JSON.stringify(stats));
}

function loadDashboardStats() {
  // Get stats from localStorage
  let stats = JSON.parse(localStorage.getItem('dashboardStats') || '{"onParade":85,"offParade":10,"onLeave":0}');
  
  // Update the display using IDs
  const onParadeEl = document.getElementById('onParade');
  const offParadeEl = document.getElementById('offParade');
  
  if (onParadeEl) onParadeEl.textContent = stats.onParade;
  if (offParadeEl) offParadeEl.textContent = stats.offParade;
}

// Load stats on page load
window.addEventListener('DOMContentLoaded', loadDashboardStats);
</script>

</body>
</html>